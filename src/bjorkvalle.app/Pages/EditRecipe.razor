@page "/recipes/edit/{id:guid}"
@using bjorkvalle.app.Features.Recipes
@inject NavigationManager NavigationManager

<Heading Size="HeadingSize.H1">Edit recipe</Heading>

<RecipeForm OnSave="HandleSave" Id="Id" />

@code {
    [Parameter]
    public Guid Id { get; set; }

    private Guid currentId;

    protected override void OnParametersSet()
    {
        var isIdChanged = currentId != Id;

        if (isIdChanged)
        {
            currentId = Id;
        }
    }

    private async Task HandleSave()
    {
        await Toast.Make("Saved").Show(default);
    }
}