@namespace bjorkvalle.app.Features.Recipes
@inject NavigationManager NavigationManager

<Header Recipe="Recipe" OnDelete="HandleDelete" />

<Body Recipe="Recipe" />

<footer class="footer footer-center p-4">
    <div>
        <small>
            Added @Recipe.CreatedOn.ToShortDateString(). 
            <Link NoRender="string.IsNullOrEmpty(Recipe.Source)" Color="Color.Primary" Href="@Recipe.Source">Source</Link>
        </small>
    </div>
</footer>

@code {
    [Parameter]
    public RecipeDto Recipe { get; set; }

    private async Task HandleDelete()
    {
        await Toast.Make("Recipe was deleted", ToastDuration.Long).Show(default);
        NavigationManager.NavigateTo("/");
    }
}
